<mat-card class="chart-card">
  <mat-card-header>
    <mat-card-title>Limites de Depósito e Saque por Agência</mat-card-title>
    <mat-card-subtitle>
      Monitoramento do estoque de cada agência com limites mínimo e máximo
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <div class="agency-selector">
      <mat-form-field appearance="outline" class="agency-select">
        <mat-label>Selecione a Agência</mat-label>
        <mat-select [value]="selectedAgencyId" (selectionChange)="selectedAgencyId = $event.value; onAgencyChange()">
          <mat-option *ngFor="let option of agencyOptions" [value]="option.value">
            {{ option.label }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <ngx-charts-line-chart
      *ngIf="selectedAgency"
      [view]="view"
      [results]="chartData"
      [scheme]="colorScheme"
      [legend]="true"
      [xAxis]="true"
      [yAxis]="true"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      [xAxisLabel]="'Dia'"
      [yAxisLabel]="'Valor (R$ mil)'"
      [autoScale]="true"
      [animations]="true"
      [timeline]="false"
      [gradient]="false">
    </ngx-charts-line-chart>

    <div class="alerts" *ngIf="alerts.length > 0">
      <div *ngFor="let alert of alerts" [ngClass]="alert.type">
        ⚠️ {{ alert.message }}
      </div>
    </div>
  </mat-card-content>
</mat-card>

